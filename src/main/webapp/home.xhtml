<!DOCTYPE html>
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <meta charset="UTF-8"/>
    <title>Best products</title>
</h:head>

<h:body>
    <div class="container">
        <h:dataTable id="dataTable" value="#{homeCDI.stats}"
                     var="product">
            <h:column>
                <f:facet name="header">Units sold</f:facet>
                #{product}
            </h:column>

        </h:dataTable>
    </div>

    <h:form>
        <f:websocket channel="stats" onmessage="function n(){console.log(123);}">
            <f:ajax event="update" listener="#{homeCDI.testAjax}" render="dataTable"/>
        </f:websocket>
    </h:form>
</h:body>
</html>